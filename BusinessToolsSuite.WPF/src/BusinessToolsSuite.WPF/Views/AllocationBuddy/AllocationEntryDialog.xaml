<UserControl x:Class="BusinessToolsSuite.WPF.Views.AllocationBuddy.AllocationEntryDialog"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:vm="clr-namespace:BusinessToolsSuite.WPF.ViewModels"
             xmlns:entities="clr-namespace:BusinessToolsSuite.Core.Entities.AllocationBuddy;assembly=BusinessToolsSuite.Core"
             mc:Ignorable="d"
             d:DesignHeight="650" d:DesignWidth="600"
             d:DataContext="{d:DesignInstance Type=vm:AllocationEntryDialogViewModel}">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Form Fields -->
        <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <!-- Item Number -->
                <StackPanel Margin="0,0,0,16">
                    <TextBlock Text="Item Number *" FontWeight="SemiBold" Margin="0,0,0,4"/>
                    <TextBox Text="{Binding ItemNumber, UpdateSourceTrigger=PropertyChanged}">
                        <TextBox.Style>
                            <Style TargetType="TextBox">
                                <Style.Triggers>
                                    <Trigger Property="Text" Value="">
                                        <Setter Property="Background">
                                            <Setter.Value>
                                                <VisualBrush Stretch="None" AlignmentX="Left">
                                                    <VisualBrush.Visual>
                                                        <TextBlock Text="Enter item number" Foreground="Gray" Margin="4,0,0,0"/>
                                                    </VisualBrush.Visual>
                                                </VisualBrush>
                                            </Setter.Value>
                                        </Setter>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </TextBox.Style>
                    </TextBox>
                </StackPanel>

                <!-- Description -->
                <StackPanel Margin="0,0,0,16">
                    <TextBlock Text="Description *" FontWeight="SemiBold" Margin="0,0,0,4"/>
                    <TextBox Text="{Binding Description, UpdateSourceTrigger=PropertyChanged}">
                        <TextBox.Style>
                            <Style TargetType="TextBox">
                                <Style.Triggers>
                                    <Trigger Property="Text" Value="">
                                        <Setter Property="Background">
                                            <Setter.Value>
                                                <VisualBrush Stretch="None" AlignmentX="Left">
                                                    <VisualBrush.Visual>
                                                        <TextBlock Text="Enter description" Foreground="Gray" Margin="4,0,0,0"/>
                                                    </VisualBrush.Visual>
                                                </VisualBrush>
                                            </Setter.Value>
                                        </Setter>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </TextBox.Style>
                    </TextBox>
                </StackPanel>

                <!-- Store ID -->
                <StackPanel Margin="0,0,0,16">
                    <TextBlock Text="Store ID *" FontWeight="SemiBold" Margin="0,0,0,4"/>
                    <TextBox Text="{Binding StoreId, UpdateSourceTrigger=PropertyChanged}">
                        <TextBox.Style>
                            <Style TargetType="TextBox">
                                <Style.Triggers>
                                    <Trigger Property="Text" Value="">
                                        <Setter Property="Background">
                                            <Setter.Value>
                                                <VisualBrush Stretch="None" AlignmentX="Left">
                                                    <VisualBrush.Visual>
                                                        <TextBlock Text="Enter store ID" Foreground="Gray" Margin="4,0,0,0"/>
                                                    </VisualBrush.Visual>
                                                </VisualBrush>
                                            </Setter.Value>
                                        </Setter>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </TextBox.Style>
                    </TextBox>
                </StackPanel>

                <!-- Store Name -->
                <StackPanel Margin="0,0,0,16">
                    <TextBlock Text="Store Name" FontWeight="SemiBold" Margin="0,0,0,4"/>
                    <TextBox Text="{Binding StoreName, UpdateSourceTrigger=PropertyChanged}">
                        <TextBox.Style>
                            <Style TargetType="TextBox">
                                <Style.Triggers>
                                    <Trigger Property="Text" Value="">
                                        <Setter Property="Background">
                                            <Setter.Value>
                                                <VisualBrush Stretch="None" AlignmentX="Left">
                                                    <VisualBrush.Visual>
                                                        <TextBlock Text="Enter store name (optional)" Foreground="Gray" Margin="4,0,0,0"/>
                                                    </VisualBrush.Visual>
                                                </VisualBrush>
                                            </Setter.Value>
                                        </Setter>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </TextBox.Style>
                    </TextBox>
                </StackPanel>

                <!-- Quantity -->
                <StackPanel Margin="0,0,0,16">
                    <TextBlock Text="Quantity *" FontWeight="SemiBold" Margin="0,0,0,4"/>
                    <TextBox Text="{Binding Quantity, UpdateSourceTrigger=PropertyChanged}"/>
                </StackPanel>

                <!-- Store Rank -->
                <StackPanel Margin="0,0,0,16">
                    <TextBlock Text="Store Rank *" FontWeight="SemiBold" Margin="0,0,0,4"/>
                    <ComboBox SelectedItem="{Binding Rank}">
                        <entities:StoreRank>A</entities:StoreRank>
                        <entities:StoreRank>B</entities:StoreRank>
                        <entities:StoreRank>C</entities:StoreRank>
                        <entities:StoreRank>D</entities:StoreRank>
                    </ComboBox>
                </StackPanel>

                <!-- Category -->
                <StackPanel Margin="0,0,0,16">
                    <TextBlock Text="Category" FontWeight="SemiBold" Margin="0,0,0,4"/>
                    <TextBox Text="{Binding Category, UpdateSourceTrigger=PropertyChanged}">
                        <TextBox.Style>
                            <Style TargetType="TextBox">
                                <Style.Triggers>
                                    <Trigger Property="Text" Value="">
                                        <Setter Property="Background">
                                            <Setter.Value>
                                                <VisualBrush Stretch="None" AlignmentX="Left">
                                                    <VisualBrush.Visual>
                                                        <TextBlock Text="Enter category (optional)" Foreground="Gray" Margin="4,0,0,0"/>
                                                    </VisualBrush.Visual>
                                                </VisualBrush>
                                            </Setter.Value>
                                        </Setter>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </TextBox.Style>
                    </TextBox>
                </StackPanel>

                <!-- Unit Price -->
                <StackPanel Margin="0,0,0,16">
                    <TextBlock Text="Unit Price" FontWeight="SemiBold" Margin="0,0,0,4"/>
                    <TextBox Text="{Binding UnitPrice, UpdateSourceTrigger=PropertyChanged, StringFormat=C2}"/>
                </StackPanel>

                <!-- Allocation Date -->
                <StackPanel Margin="0,0,0,16">
                    <TextBlock Text="Allocation Date" FontWeight="SemiBold" Margin="0,0,0,4"/>
                    <DatePicker SelectedDate="{Binding AllocationDate}"/>
                </StackPanel>

                <!-- Notes -->
                <StackPanel Margin="0,0,0,16">
                    <TextBlock Text="Notes" FontWeight="SemiBold" Margin="0,0,0,4"/>
                    <TextBox Text="{Binding Notes, UpdateSourceTrigger=PropertyChanged}"
                             Height="80" TextWrapping="Wrap" AcceptsReturn="True">
                        <TextBox.Style>
                            <Style TargetType="TextBox">
                                <Style.Triggers>
                                    <Trigger Property="Text" Value="">
                                        <Setter Property="Background">
                                            <Setter.Value>
                                                <VisualBrush Stretch="None" AlignmentX="Left">
                                                    <VisualBrush.Visual>
                                                        <TextBlock Text="Enter notes (optional)" Foreground="Gray" Margin="4,0,0,0"/>
                                                    </VisualBrush.Visual>
                                                </VisualBrush>
                                            </Setter.Value>
                                        </Setter>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </TextBox.Style>
                    </TextBox>
                </StackPanel>

            </StackPanel>
        </ScrollViewer>

        <!-- Buttons -->
        <Border Grid.Row="1" BorderBrush="#E0E0E0" BorderThickness="0,1,0,0" Padding="0,16,0,0">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Content="Cancel" Width="100" Padding="12,8" Click="Cancel_Click" Margin="0,0,12,0"/>
                <Button Content="Save" Width="100" Padding="12,8" Background="#007ACC" Foreground="White" Click="Save_Click"/>
            </StackPanel>
        </Border>

    </Grid>
</UserControl>
