<Window x:Class="SAP.Views.UnifiedSettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:SAP.ViewModels"
        xmlns:local="clr-namespace:SAP.Views"
        mc:Ignorable="d"
        Title="S.A.P - Settings"
        Height="800"
        Width="950"
        WindowStartupLocation="CenterOwner"
        Background="#f8fafc"
        d:DataContext="{d:DesignInstance Type=vm:UnifiedSettingsViewModel}">

    <Window.Resources>
        <!-- Modern Card Style -->
        <Style x:Key="SettingsCard" TargetType="Border">
            <Setter Property="Background" Value="White"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="Padding" Value="20"/>
            <Setter Property="Margin" Value="0,0,0,16"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="8" ShadowDepth="1" Opacity="0.08" Direction="270"/>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Section Title Style -->
        <Style x:Key="SectionTitle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="15"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="#0f172a"/>
            <Setter Property="Margin" Value="0,0,0,16"/>
        </Style>

        <!-- Setting Label Style -->
        <Style x:Key="SettingLabel" TargetType="TextBlock">
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Foreground" Value="#334155"/>
            <Setter Property="Margin" Value="0,0,0,6"/>
        </Style>

        <!-- Helper Text Style -->
        <Style x:Key="HelperText" TargetType="TextBlock">
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="Foreground" Value="#64748b"/>
            <Setter Property="Margin" Value="0,4,0,0"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
        </Style>

        <!-- Modern TextBox Style -->
        <Style x:Key="SettingsTextBox" TargetType="TextBox">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="#e2e8f0"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="12,10"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="8">
                            <ScrollViewer x:Name="PART_ContentHost" Margin="{TemplateBinding Padding}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#cbd5e1"/>
                            </Trigger>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#667eea"/>
                                <Setter TargetName="border" Property="BorderThickness" Value="2"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Modern ComboBox Style -->
        <Style x:Key="SettingsComboBox" TargetType="ComboBox">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="#e2e8f0"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="12,10"/>
            <Setter Property="FontSize" Value="13"/>
        </Style>

        <!-- Modern CheckBox Style -->
        <Style x:Key="SettingsCheckBox" TargetType="CheckBox">
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Foreground" Value="#334155"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>

        <!-- Tab Item Style -->
        <Style TargetType="TabItem">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TabItem">
                        <Border x:Name="Border" 
                                Background="Transparent" 
                                CornerRadius="8" 
                                Padding="16,10" 
                                Margin="0,0,4,0"
                                Cursor="Hand">
                            <ContentPresenter x:Name="ContentSite"
                                              ContentSource="Header"
                                              HorizontalAlignment="Center"
                                              VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#667eea"/>
                                <Setter Property="Foreground" Value="White"/>
                                <Setter Property="FontWeight" Value="SemiBold"/>
                            </Trigger>
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="IsMouseOver" Value="True"/>
                                    <Condition Property="IsSelected" Value="False"/>
                                </MultiTrigger.Conditions>
                                <Setter TargetName="Border" Property="Background" Value="#f1f5f9"/>
                            </MultiTrigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid Margin="24">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,24">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="âš™ï¸" FontSize="28" VerticalAlignment="Center" Margin="0,0,12,0"/>
                <TextBlock Text="Settings"
                           FontSize="28"
                           FontWeight="Bold"
                           Foreground="#0f172a"
                           VerticalAlignment="Center"/>
            </StackPanel>
            <TextBlock Text="Configure application preferences and defaults"
                       FontSize="14"
                       Foreground="#64748b"
                       Margin="0,8,0,0"/>
        </StackPanel>

        <!-- TabControl for different app settings -->
        <TabControl Grid.Row="1" Background="Transparent" BorderThickness="0"
                    SelectionChanged="OnTabSelectionChanged">
            <TabControl.Template>
                <ControlTemplate TargetType="TabControl">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <Border Grid.Row="0" Background="#f1f5f9" CornerRadius="10" Padding="4" Margin="0,0,0,20">
                            <TabPanel IsItemsHost="True"/>
                        </Border>
                        <ContentPresenter Grid.Row="1" ContentSource="SelectedContent"/>
                    </Grid>
                </ControlTemplate>
            </TabControl.Template>

            <!-- AllocationBuddy Tab (default) -->
            <TabItem Header="ðŸ“Š AllocationBuddy" FontSize="13" IsSelected="True">
                <Grid Margin="0,10,0,0">
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <StackPanel DataContext="{Binding AllocationBuddySettings}">

                        <!-- Behavior Section -->
                        <Border Style="{StaticResource SettingsCard}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                                    <TextBlock Text="ðŸŽ›ï¸" FontSize="18" Margin="0,0,8,0"/>
                                    <TextBlock Text="Behavior" Style="{StaticResource SectionTitle}" Margin="0"/>
                                </StackPanel>

                                <CheckBox Content="Show confirmation dialogs for destructive actions"
                                          IsChecked="{Binding ShowConfirmationDialogs}"
                                          Style="{StaticResource SettingsCheckBox}"/>
                                <TextBlock Text="Ask before clearing data, deactivating stores, or other irreversible actions"
                                           Style="{StaticResource HelperText}" Margin="24,4,0,0"/>
                            </StackPanel>
                        </Border>

                        <!-- Clipboard Settings Section -->
                        <Border Style="{StaticResource SettingsCard}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                                    <TextBlock Text="ðŸ“‹" FontSize="18" Margin="0,0,8,0"/>
                                    <TextBlock Text="Clipboard Options" Style="{StaticResource SectionTitle}" Margin="0"/>
                                </StackPanel>

                                <CheckBox Content="Include item descriptions when copying"
                                          IsChecked="{Binding IncludeDescriptionsInCopy}"
                                          Style="{StaticResource SettingsCheckBox}"/>
                                <TextBlock Text="Adds descriptions alongside item numbers when copying location data to clipboard"
                                           Style="{StaticResource HelperText}" Margin="24,4,0,16"/>

                                <TextBlock Text="Clipboard Format" Style="{StaticResource SettingLabel}"/>
                                <ComboBox SelectedValue="{Binding ClipboardFormat}" 
                                          SelectedValuePath="Tag"
                                          Style="{StaticResource SettingsComboBox}">
                                    <ComboBoxItem Content="Tab Separated (for Excel/BC)" Tag="TabSeparated"/>
                                    <ComboBoxItem Content="Comma Separated (CSV)" Tag="CommaSeparated"/>
                                </ComboBox>
                                <TextBlock Text="Format used when copying location items for transfer orders"
                                           Style="{StaticResource HelperText}"/>
                            </StackPanel>
                        </Border>

                        </StackPanel>
                    </ScrollViewer>
                    <!-- Top shadow -->
                    <Border VerticalAlignment="Top" Height="12" IsHitTestVisible="False">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                <GradientStop Color="#10000000" Offset="0"/>
                                <GradientStop Color="Transparent" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.Background>
                    </Border>
                </Grid>
            </TabItem>

            <!-- EssentialsBuddy Tab -->
            <TabItem Header="ðŸ“‹ EssentialsBuddy" FontSize="13">
                <Grid Margin="0,10,0,0">
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <StackPanel DataContext="{Binding EssentialsBuddySettings}">

                        <!-- Stock Thresholds Section -->
                        <Border Style="{StaticResource SettingsCard}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                                    <TextBlock Text="ðŸ“Š" FontSize="18" Margin="0,0,8,0"/>
                                    <TextBlock Text="Stock Level Thresholds" Style="{StaticResource SectionTitle}" Margin="0"/>
                                </StackPanel>

                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="16"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="16"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <StackPanel Grid.Column="0">
                                        <TextBlock Text="Low Stock" Style="{StaticResource SettingLabel}"/>
                                        <TextBox Text="{Binding LowStockThreshold}" Style="{StaticResource SettingsTextBox}"/>
                                        <TextBlock Text="Below this = Low" Style="{StaticResource HelperText}"/>
                                    </StackPanel>

                                    <StackPanel Grid.Column="2">
                                        <TextBlock Text="Out of Stock" Style="{StaticResource SettingLabel}"/>
                                        <TextBox Text="{Binding OutOfStockThreshold}" Style="{StaticResource SettingsTextBox}"/>
                                        <TextBlock Text="At/below this = Out" Style="{StaticResource HelperText}"/>
                                    </StackPanel>

                                    <StackPanel Grid.Column="4">
                                        <TextBlock Text="Overstock" Style="{StaticResource SettingLabel}"/>
                                        <TextBox Text="{Binding OverstockThreshold}" Style="{StaticResource SettingsTextBox}"/>
                                        <TextBlock Text="Above this = Over" Style="{StaticResource HelperText}"/>
                                    </StackPanel>
                                </Grid>
                            </StackPanel>
                        </Border>

                        <!-- Default Filters Section -->
                        <Border Style="{StaticResource SettingsCard}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                                    <TextBlock Text="ðŸ”" FontSize="18" Margin="0,0,8,0"/>
                                    <TextBlock Text="Default Filters" Style="{StaticResource SectionTitle}" Margin="0"/>
                                </StackPanel>

                                <TextBlock Text="Default Status Filter" Style="{StaticResource SettingLabel}"/>
                                <ComboBox SelectedValue="{Binding DefaultStatusFilter}" 
                                          SelectedValuePath="Tag"
                                          Style="{StaticResource SettingsComboBox}">
                                    <ComboBoxItem Content="All Items" Tag="All"/>
                                    <ComboBoxItem Content="Normal Stock" Tag="Normal"/>
                                    <ComboBoxItem Content="Low Stock" Tag="Low"/>
                                    <ComboBoxItem Content="Out of Stock" Tag="OutOfStock"/>
                                    <ComboBoxItem Content="Overstocked" Tag="Overstocked"/>
                                </ComboBox>
                                <TextBlock Text="Filter automatically applied when opening the module"
                                           Style="{StaticResource HelperText}" Margin="0,4,0,16"/>

                                <CheckBox Content="Start with 'Essentials Only' filter enabled"
                                          IsChecked="{Binding DefaultEssentialsOnly}"
                                          Style="{StaticResource SettingsCheckBox}"/>
                                <TextBlock Text="Only show items marked as essential when the module opens"
                                           Style="{StaticResource HelperText}" Margin="24,4,0,0"/>
                            </StackPanel>
                        </Border>

                        </StackPanel>
                    </ScrollViewer>
                    <!-- Top shadow -->
                    <Border VerticalAlignment="Top" Height="12" IsHitTestVisible="False">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                <GradientStop Color="#10000000" Offset="0"/>
                                <GradientStop Color="Transparent" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.Background>
                    </Border>
                </Grid>
            </TabItem>

            <!-- ExpireWise Tab -->
            <TabItem Header="ðŸ“¦ ExpireWise" FontSize="13">
                <Grid Margin="0,10,0,0">
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <StackPanel DataContext="{Binding ExpireWiseSettings}">

                        <!-- Alert Thresholds Section -->
                        <Border Style="{StaticResource SettingsCard}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                                    <TextBlock Text="â°" FontSize="18" Margin="0,0,8,0"/>
                                    <TextBlock Text="Expiration Thresholds" Style="{StaticResource SectionTitle}" Margin="0"/>
                                </StackPanel>

                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="16"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <StackPanel Grid.Column="0">
                                        <StackPanel Orientation="Horizontal">
                                            <Border Background="#FEF3C7" CornerRadius="4" Padding="6,2" Margin="0,0,8,6">
                                                <TextBlock Text="âš ï¸ Warning" FontSize="11" FontWeight="SemiBold" Foreground="#92400e"/>
                                            </Border>
                                        </StackPanel>
                                        <TextBox Text="{Binding WarningThresholdDays}" Style="{StaticResource SettingsTextBox}"/>
                                        <TextBlock Text="Days before expiration" Style="{StaticResource HelperText}"/>
                                    </StackPanel>

                                    <StackPanel Grid.Column="2">
                                        <StackPanel Orientation="Horizontal">
                                            <Border Background="#FEE2E2" CornerRadius="4" Padding="6,2" Margin="0,0,8,6">
                                                <TextBlock Text="ðŸ”´ Critical" FontSize="11" FontWeight="SemiBold" Foreground="#991b1b"/>
                                            </Border>
                                        </StackPanel>
                                        <TextBox Text="{Binding CriticalThresholdDays}" Style="{StaticResource SettingsTextBox}"/>
                                        <TextBlock Text="Days before expiration" Style="{StaticResource HelperText}"/>
                                    </StackPanel>
                                </Grid>
                            </StackPanel>
                        </Border>

                        <!-- Display Options Section -->
                        <Border Style="{StaticResource SettingsCard}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                                    <TextBlock Text="ðŸŽ¨" FontSize="18" Margin="0,0,8,0"/>
                                    <TextBlock Text="Display Options" Style="{StaticResource SectionTitle}" Margin="0"/>
                                </StackPanel>

                                <TextBlock Text="Default Status Filter" Style="{StaticResource SettingLabel}"/>
                                <ComboBox SelectedValue="{Binding DefaultStatusFilter}" 
                                          SelectedValuePath="Tag"
                                          Style="{StaticResource SettingsComboBox}">
                                    <ComboBoxItem Content="All Items" Tag="All"/>
                                    <ComboBoxItem Content="Good (Not Expiring Soon)" Tag="Good"/>
                                    <ComboBoxItem Content="Warning" Tag="Warning"/>
                                    <ComboBoxItem Content="Critical" Tag="Critical"/>
                                    <ComboBoxItem Content="Expired" Tag="Expired"/>
                                </ComboBox>
                                <TextBlock Text="Filter automatically applied when opening the module"
                                           Style="{StaticResource HelperText}" Margin="0,4,0,16"/>

                                <TextBlock Text="Date Display Format" Style="{StaticResource SettingLabel}"/>
                                <ComboBox SelectedValue="{Binding DateDisplayFormat}" 
                                          SelectedValuePath="Tag"
                                          Style="{StaticResource SettingsComboBox}">
                                    <ComboBoxItem Content="Short (12/15/2025)" Tag="Short"/>
                                    <ComboBoxItem Content="Long (December 15, 2025)" Tag="Long"/>
                                </ComboBox>
                                <TextBlock Text="How expiration dates are formatted in the list view"
                                           Style="{StaticResource HelperText}"/>
                            </StackPanel>
                        </Border>

                        <!-- Data Management Section -->
                        <Border Style="{StaticResource SettingsCard}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                                    <TextBlock Text="ðŸ—ƒï¸" FontSize="18" Margin="0,0,8,0"/>
                                    <TextBlock Text="Data Management" Style="{StaticResource SectionTitle}" Margin="0"/>
                                </StackPanel>

                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>

                                    <StackPanel Grid.Column="0" VerticalAlignment="Center">
                                        <TextBlock FontWeight="SemiBold" FontSize="14"
                                                   Foreground="{StaticResource TextPrimaryBrush}">
                                            <Run Text="Total Items: "/>
                                            <Run Text="{Binding TotalItemCount, Mode=OneWay}" FontWeight="Bold"/>
                                        </TextBlock>
                                        <TextBlock Text="Clear all expiration tracking data from the database"
                                                   Style="{StaticResource HelperText}" Margin="0,4,0,0"/>
                                    </StackPanel>

                                    <Button Grid.Column="1" 
                                            Command="{Binding ClearAllDataCommand}"
                                            Padding="16,10"
                                            Cursor="Hand"
                                            VerticalAlignment="Center">
                                        <Button.Template>
                                            <ControlTemplate TargetType="Button">
                                                <Border x:Name="Border" Background="#fef2f2" CornerRadius="8" 
                                                        Padding="{TemplateBinding Padding}"
                                                        BorderBrush="#fecaca" BorderThickness="1">
                                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                                        <TextBlock Text="ðŸ—‘ï¸" FontSize="14" Margin="0,0,8,0"/>
                                                        <TextBlock Text="Clear All Data" Foreground="#dc2626" FontWeight="SemiBold"/>
                                                    </StackPanel>
                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter TargetName="Border" Property="Background" Value="#fee2e2"/>
                                                        <Setter TargetName="Border" Property="BorderBrush" Value="#fca5a5"/>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Button.Template>
                                    </Button>
                                </Grid>
                            </StackPanel>
                        </Border>

                        </StackPanel>
                    </ScrollViewer>
                    <!-- Top shadow -->
                    <Border VerticalAlignment="Top" Height="12" IsHitTestVisible="False">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                <GradientStop Color="#10000000" Offset="0"/>
                                <GradientStop Color="Transparent" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.Background>
                    </Border>
                </Grid>
            </TabItem>

            <!-- Dictionary Management Tab (load on demand) -->
            <TabItem Header="ðŸ“š Dictionary" FontSize="13">
                <local:DictionaryManagementView DataContext="{Binding DictionaryManagement}"/>
            </TabItem>

        </TabControl>

        <!-- Status Message -->
        <Border Grid.Row="2" Background="#f1f5f9" CornerRadius="8" Padding="12" Margin="0,16,0,0">
            <TextBlock Text="{Binding StatusMessage}"
                       FontSize="12"
                       Foreground="#64748b"
                       HorizontalAlignment="Center"/>
        </Border>

        <!-- Buttons -->
        <Grid Grid.Row="3" Margin="0,20,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <Button Grid.Column="0"
                    Command="{Binding ResetAllToDefaultsCommand}"
                    Padding="20,12"
                    MinWidth="160"
                    Cursor="Hand">
                <Button.Template>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Border" Background="#fef2f2" CornerRadius="10" Padding="{TemplateBinding Padding}">
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                <TextBlock Text="ðŸ”„" FontSize="14" Margin="0,0,8,0"/>
                                <TextBlock Text="Reset to Defaults" Foreground="#dc2626" FontWeight="SemiBold"/>
                            </StackPanel>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#fee2e2"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Button.Template>
            </Button>

            <Button Grid.Column="2"
                    Command="{Binding SaveAllSettingsCommand}"
                    Padding="24,12"
                    MinWidth="120"
                    Margin="0,0,12,0"
                    Cursor="Hand">
                <Button.Template>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Border" Background="#667eea" CornerRadius="10" Padding="{TemplateBinding Padding}">
                            <Border.Effect>
                                <DropShadowEffect BlurRadius="8" ShadowDepth="2" Opacity="0.2" Color="#667eea"/>
                            </Border.Effect>
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                <TextBlock Text="ðŸ’¾" FontSize="14" Margin="0,0,8,0"/>
                                <TextBlock Text="Save All" Foreground="White" FontWeight="SemiBold"/>
                            </StackPanel>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#5568d3"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Button.Template>
            </Button>

            <Button Grid.Column="3"
                    IsCancel="True"
                    Padding="24,12"
                    MinWidth="100"
                    Cursor="Hand">
                <Button.Template>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Border" Background="#f1f5f9" CornerRadius="10" Padding="{TemplateBinding Padding}"
                                BorderBrush="#e2e8f0" BorderThickness="1">
                            <TextBlock Text="Close" Foreground="#475569" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#e2e8f0"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Button.Template>
            </Button>
        </Grid>
    </Grid>
</Window>
